Android窗口管理框架从窗口的创建到UI的绘制主要涉及以下角色：
1、WindowManager：应用与窗口管理服务WindowManagerService交互的接口

2、(系统进程)WindowManagerService：窗口管理服务，继承于IWindowManager.Stub，是Binder的服务端，
该服务运行在一个单独的进程中，因此WindowManager与WindowManagerService的交互也是一个IPC的过程。

3、(系统进程)SurfaceFlinger：SurfaceFlinger服务运行在Android系统的System进程中，
它负责管理Android系统的帧缓冲区（Frame Buffer)，Android设备的显示屏被抽象为一个 帧缓冲区，
而Android系统中的SurfaceFlinger服务就是通过向这个帧缓冲区写入内容来绘制应用程序的用户界面的。

4、Surface：每个显示界面的窗口都是一个Surface。

5、PhoneWindowManager：实现了窗口的各种策略。

6、Choreographer：用于控制窗口动画、屏幕旋转等操作。

7、DisplayContent：用于描述多屏输出相关信息。

8、WindowState：描述窗口的状态信息以及和WindowManagerService进行通信，一般一个窗口对应一个WindowState。

9、WindowToken：窗口Token，用来做Binder通信。

10、Session：通信对象，App进程通过建立Session代理对象和Session对象通信，进而和WindowManagerService建立连接。